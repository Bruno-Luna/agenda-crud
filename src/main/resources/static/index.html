<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap"
	rel="stylesheet">
<title>Contato_app | salve seus contatos.</title>
</head>
<body>
	<header class="bg-dark d-flex align-items-center" style="height: 20vh;">
		<div class="container">
			<div class="row">
				<div class="col">
					<h2 class="text-light">
						Contato_<span class="text-warning">app</span>
					</h2>
				</div>
			</div>
		</div>
	</header>

	<form action="" class="bg-secondary d-flex align-items-center"
		style="height: 80vh;" id="form">
		<div class="container bg-secondary" style="height: 80vh;">
			<div class="row">
				<div class="col-md-2">
					<label for="id" class="form-label mt-4 text-light">ID:</label> 
					<input type="text" class="form-control" id="id" readonly="readonly">
				</div>
				<div class="col">
					<label for="nome" class="form-label mt-4 text-light">Nome do contato:</label> 
					<input type="text" class="form-control" id="nome" placeholder="Insira o nome:"
						required="required">
				</div>
			</div>
			<div class="row align-items-end">
				<div class="col">
					<label for="contato" class="form-label mt-3 text-light">Contato:</label>
					<input type="text" class="form-control" id="contato"
						placeholder="xx-xxxxxxxxx">
				</div>
			</div>
			<button type="button" class="btn mt-4 ml-3" onclick="limpar()">Limpar</button>

			<button type="button" class="btn mt-4" onclick="salvar()">Salvar</button>
		</div>
	</form>


		<!-- JQuery -->
	
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
		crossorigin="anonymous">
	</script>
		
	<!-- Option 1: Bootstrap Bundle with Popper -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous">
	</script>

	<!-- Função Buttons -->

	<script>
		
		function salvar(){
			var id = $("#id").val();
			var nome = $("#nome").val();
			var contato = $("#contato").val();
			
		$.ajax({
		  method: "POST",
		  url: "salvar",
		  data: JSON.stringify({id : id, nome : nome, contato : contato}),
		    contentType: 'application/json; charset=utf-8',
		    success: function(response){
		    	$("#id").val(response.id);
		    	alert("Salvado com sucesso!")
		    }
		  }).fail(function (xhr, status, errorThrown){
			  alert("Erro ao salvar: " + xhr.responseText);
		  });		
		}
		
		
		function limpar(){
			document.getElementById('form').reset();			
		}
	</script>
</body>
</html>